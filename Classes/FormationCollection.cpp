//
//  FormationCollection.cpp
//  Crazy Darts 2 Mac
//
//  Created by Nicholas Raptis on 4/1/19.
//  Copyright Â© 2019 Froggy Studios. All rights reserved.
//

#include "FormationCollection.hpp"
#include "LevelFormationBlueprint.hpp"

#include "FJSON.hpp"

FormationCollection gFormationCollection;

FormationCollection::FormationCollection() {
    
}

FormationCollection::~FormationCollection() {
    
    //FList                               mNameList;
    //FList                               mFormationList;
    
    FreeList(FString, mNameList);
    FreeList(LevelFormation, mFormationList);
    
    /*
     FStringMapNode *aNode = mMap.mListHead;
     while (aNode != NULL) {
     LevelFormation *aFormation = ((LevelFormation *)aNode->mObject);
     delete aFormation;
     aNode = aNode->mListNext;
     }
     */
}

void FormationCollection::Load() {
    
    FreeList(FString, mNameList);
    FreeList(LevelFormation, mFormationList);
    mMap.RemoveAll();
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    All Balloons
    //////
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle [[BALLOON ONLY]]
    
    //Add("form_all_nod_all_bln_grd_rec_2x1_38sph_48spv_sld_nodes_cfg2xb_snp");
    //Add("form_all_nod_all_bln_grd_rec_1x2_60sph_48spv_sld_nodes_cfg2xb_snp");
    
    Add("form_all_nod_all_bln_grd_rec_2x2_38sph_48spv_sld_nodes_cfg4xb_snp");
    Add("form_all_nod_all_bln_grd_rec_3x2_38sph_48spv_sld_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_rec_2x3_38sph_48spv_sld_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_rec_3x3_38sph_48spv_89ful_nodes_cfg8xb_snp");
    Add("form_all_nod_all_bln_grd_rec_3x3_38sph_48spv_sld_nodes_cfg9xb_snp");
    Add("form_all_nod_all_bln_grd_rec_4x3_38sph_48spv_sld_nodes_cfg12xb_snp");
    Add("form_all_nod_all_bln_grd_rec_3x4_38sph_48spv_sld_nodes_cfg12xb_snp");
    Add("form_all_nod_all_bln_grd_rec_2x4_38sph_48spv_sld_nodes_cfg8xb_snp");
    Add("form_all_nod_all_bln_grd_rec_4x2_38sph_48spv_sld_nodes_cfg8xb_snp");
    Add("form_all_nod_all_bln_grd_rec_5x2_38sph_48spv_sld_nodes_cfg10xb_snp");
    Add("form_all_nod_all_bln_grd_rec_5x3_38sph_48spv_sld_nodes_cfg15xb_snp");
    Add("form_all_nod_all_bln_grd_rec_3x5_38sph_48spv_sld_nodes_cfg15xb_snp");
    Add("form_all_nod_all_bln_grd_rec_4x5_38sph_48spv_sld_nodes_cfg20xb_snp");
    Add("form_all_nod_all_bln_grd_rec_5x4_38sph_48spv_sld_nodes_cfg20xb_snp");
    Add("form_all_nod_all_bln_grd_rec_5x5_38sph_48spv_sld_nodes_cfg25xb_snp");
    Add("form_all_nod_all_bln_grd_rec_6x6_38sph_48spv_sld_nodes_cfg36xb_snp");
    Add("form_all_nod_all_bln_grd_rec_7x6_38sph_48spv_sld_nodes_cfg42xb_snp");
    Add("form_all_nod_all_bln_grd_rec_7x6_38sph_48spv_52ful_nodes_cfg22xb_snp");
    Add("form_all_nod_all_bln_grd_rec_7x6_38sph_48spv_67ful_nodes_cfg28xb_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle [[BALLOON ONLY]]
    
    Add("form_all_nod_all_bln_grd_cir_28rsp_1rct_3rdc_75ful_nodes_cfg3xb_snp");
    Add("form_all_nod_all_bln_grd_cir_34rsp_1rct_4rdc_80ful_nodes_cfg4xb_snp");
    Add("form_all_nod_all_bln_grd_cir_40rsp_1rct_5rdc_83ful_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_cir_46rsp_1rct_6rdc_86ful_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_cir_46rsp_1rct_6rdc_sld_nodes_cfg7xb_snp");
    Add("form_all_nod_all_bln_grd_cir_54rsp_1rct_7rdc_88ful_nodes_cfg7xb_snp");
    Add("form_all_nod_all_bln_grd_cir_54rsp_1rct_7rdc_sld_nodes_cfg8xb_snp");
    Add("form_all_nod_all_bln_grd_cir_60rsp_1rct_8rdc_89ful_nodes_cfg8xb_snp");
    Add("form_all_nod_all_bln_grd_cir_60rsp_1rct_8rdc_sld_nodes_cfg9xb_snp");
    Add("form_all_nod_all_bln_grd_cir_60rsp_2rct_16rdc_48ful_nodes_cfg16xb_snp");
    Add("form_all_nod_all_bln_grd_cir_60rsp_2rct_16rdc_73ful_nodes_cfg24xb_snp");
    Add("form_all_nod_all_bln_grd_cir_60rsp_2rct_16rdc_76ful_nodes_cfg25xb_snp");
    Add("form_all_nod_all_bln_grd_cir_66rsp_1rct_9rdc_90ful_nodes_cfg9xb_snp");
    Add("form_all_nod_all_bln_grd_cir_66rsp_1rct_9rdc_sld_nodes_cfg10xb_snp");
    Add("form_all_nod_all_bln_grd_cir_72rsp_1rct_10rdc_91ful_nodes_cfg10xb_snp");
    Add("form_all_nod_all_bln_grd_cir_72rsp_1rct_10rdc_sld_nodes_cfg11xb_snp");
    Add("form_all_nod_all_bln_grd_cir_72rsp_2rct_20rdc_49ful_nodes_cfg20xb_snp");
    Add("form_all_nod_all_bln_grd_cir_72rsp_2rct_20rdc_73ful_nodes_cfg30xb_snp");
    Add("form_all_nod_all_bln_grd_cir_72rsp_2rct_20rdc_76ful_nodes_cfg31xb_snp");
    Add("form_all_nod_all_bln_grd_cir_88rsp_1rct_12rdc_92ful_nodes_cfg12xb_snp");
    Add("form_all_nod_all_bln_grd_cir_96rsp_1rct_12rdc_92ful_nodes_cfg12xb_snp");
    Add("form_all_nod_all_bln_grd_cir_96rsp_1rct_12rdc_92ful_nodes_cfg16xb12on4of");
    Add("form_all_nod_all_bln_grd_cir_96rsp_1rct_12rdc_92ful_nodes_cfg18xb12on6of");
    Add("form_all_nod_all_bln_grd_cir_96rsp_1rct_12rdc_sld_nodes_cfg19xb13on6of");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs [[BALLOON ONLY]]
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon [[BALLOON ONLY]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon [[BALLOON ONLY]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines [[BALLOON ONLY]]
    
    Add("form_all_nod_all_bln_grd_rec_1x6_0sph_46spv_sld_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_rec_1x5_0sph_46spv_sld_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_rec_1x4_0sph_46spv_sld_nodes_cfg4xb_snp");
    Add("form_all_nod_all_bln_grd_rec_1x3_0sph_46spv_sld_nodes_cfg3xb_snp");
    Add("form_all_nod_all_bln_grd_rec_1x2_0sph_46spv_sld_nodes_cfg2xb_snp");
    Add("form_all_nod_all_bln_grd_rec_6x1_38sph_0spv_sld_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_rec_5x1_38sph_0spv_sld_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_rec_4x1_38sph_0spv_sld_nodes_cfg4xb_snp");
    Add("form_all_nod_all_bln_grd_rec_3x1_38sph_0spv_sld_nodes_cfg3xb_snp");
    Add("form_all_nod_all_bln_grd_rec_2x1_38sph_0spv_sld_nodes_cfg2xb_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon [[BALLOON ONLY]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon [[BALLOON ONLY]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered [[BALLOON ONLY]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star [[BALLOON ONLY]]
    
    Add("form_all_nod_all_bln_grd_sta_91rdi_140rdo_3ptc_5arc_180ros_49ful_nodes_cfg20xb_snp");
    Add("form_all_nod_all_bln_grd_sta_50rdi_90rdo_3ptc_5arc_27ful_nodes_cfg11xb_snp");
    Add("form_all_nod_all_bln_grd_sta_150rdi_80rdo_1ptc_5arc_180ros_95ful_nodes_cfg20xb_snp");
    Add("form_all_nod_all_bln_grd_sta_150rdi_80rdo_1ptc_5arc_180ros_95ful_nodes_cfg25xb20on5of");
    Add("form_all_nod_all_bln_grd_sta_150rdi_80rdo_1ptc_5arc_180ros_sld_nodes_cfg26xb21on5of");
    Add("form_all_nod_all_bln_grd_sta_74rdi_140rdo_1ptc_4arc_94ful_nodes_cfg24xb16on8of");
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid [[BALLOON ONLY]]
    
    Add("form_all_nod_all_bln_grd_trp1_80tsz_220bsz_96ht_11cth_3ctv_35ful_nodes_cfg14xb12on2of");
    Add("form_all_nod_all_bln_grd_trp1_220tsz_80bsz_96ht_11cth_3ctv_35ful_nodes_cfg14xb12on2of");
    Add("form_all_nod_all_bln_grd_trp1_74tsz_36bsz_36ht_3cth_2ctv_71ful_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_trp1_36tsz_74bsz_36ht_3cth_2ctv_71ful_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_trp1_44tsz_88bsz_28ht_3cth_2ctv_90ros_71ful_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_trp1_88tsz_44bsz_28ht_3cth_2ctv_90ros_71ful_nodes_cfg5xb_snp");
    Add("form_all_nod_all_bln_grd_trp1_130tsz_44bsz_62ht_4cth_3ctv_62ful_nodes_cfg9xb8on1of");
    Add("form_all_nod_all_bln_grd_trp1_44tsz_130bsz_62ht_4cth_3ctv_62ful_nodes_cfg9xb8on1of");
    //Add("");
    //Add("");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle [[BALLOON ONLY]]
    
    Add("form_all_nod_all_bln_grd_tri_ng2_34rad_0ofy_46sph_40spv_stg_sld_nodes_cfg3xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_34rad_0ofy_46sph_40spv_stgodd_180ros_sld_nodes_cfg3xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_64rad_0ofy_46sph_40spv_stg_sld_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_64rad_0ofy_46sph_40spv_stg_180ros_sld_nodes_cfg6xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_88rad_0ofy_46sph_40spv_stg_sld_nodes_cfg10xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_88rad_0ofy_46sph_40spv_stgodd_180ros_sld_nodes_cfg10xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_117rad_0ofy_46sph_40spv_stg_sld_nodes_cfg15xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_117rad_0ofy_46sph_40spv_stg_180ros_sld_nodes_cfg15xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_144rad_0ofy_46sph_40spv_stg_sld_nodes_cfg21xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_144rad_0ofy_46sph_40spv_stgodd_180ros_sld_nodes_cfg21xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_172rad_0ofy_46sph_40spv_stg_sld_nodes_cfg28xb_snp");
    Add("form_all_nod_all_bln_grd_tri_ng2_172rad_0ofy_46sph_40spv_stg_180ros_sld_nodes_cfg28xb_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle [[BALLOON ONLY]]
    
    //Add("");
    Add("form_all_trc_all_bln_tra_cir_60rad_cfg2xb");
    Add("form_all_trc_all_bln_tra_cir_66rad_cfg3xb");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom [[BALLOON ONLY]]
    
   
    //Add("");
    
    Add("form_all_trc_all_bln_grd_rec_6x6_60sph_60spv_0ful_tra_4ply_cfg4xb_tra_4ply_cfg4xb_tra_4ply_cfg4xb_tra_4ply_cfg4xb_tra_4ply_cfg4xb_tra_4ply_cfg4xb");
    Add("form_all_trc_all_bln_grd_rec_6x6_60sph_60spv_0ful_tra_12ply_cfg28xb");
    Add("form_all_trc_all_bln_grd_hex_ng1_135rsp_1rct_30pts_0ful_tra_6ply_cfg12xb");
    Add("form_all_trc_all_bln_grd_hex_ng1_135rsp_1rct_30pts_0ful_tra_6ply_cfg14xb_tra_cir_155rad_cfg7xb");
    Add("form_all_trc_all_bln_grd_pen_ng1_84rsp_1rct_88pts_0ful_tra_5ply_cfg7xb.json");
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect [[BALLOON ONLY]]
    
    //Add("");
    Add("form_all_trc_all_bln_grd_rec_2x2_60sph_61spv_0ful_tra_4ply_cfg1xb");
    Add("form_all_trc_all_bln_grd_rec_2x2_60sph_61spv_0ful_tra_4ply_cfg2xb");
    Add("form_all_trc_all_bln_grd_rec_2x2_60sph_61spv_0ful_tra_4ply_cfg3xb");
    Add("form_all_trc_all_bln_grd_rec_2x2_60sph_61spv_0ful_tra_4ply_cfg4xb");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect [[BALLOON ONLY]]
    
    //Add("");
    Add("form_all_trc_all_bln_tra_rrc_505siz_110crd_cfg13xb");
    Add("form_nod_trc_all_bln_grd_rec_1x1_60sph_60spv_sld_nodes_cfg1xb_snp_tra_rrc_505siz_110crd_cfg14xb_tra_rrc_275siz_54crd_cfg7xb");
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    //Add("");
    //Add("");
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    All Brickheads
    //////
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle

    Add("form_all_nod_all_brk_grd_cir_34rsp_1rct_4rdc_80ful_nodes_cfg4xr_snp");
    Add("form_all_nod_all_brk_grd_cir_40rsp_1rct_5rdc_83ful_nodes_cfg5xr_snp");
    Add("form_all_nod_all_brk_grd_cir_46rsp_1rct_6rdc_86ful_nodes_cfg6xr_snp");
    //Add("");
    //Add("");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    All Turtles
    //////
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle [[[Turtles ONLY]]]
    
    //Add("");
    Add("form_all_nod_all_tur_grd_rec_3x3_68sph_68spv_44ful_nodes_cfg4xt_snp");
    Add("form_all_nod_all_tur_grd_rec_5x4_68sph_68spv_80ful_nodes_cfg16xt_snp");
    
    //Add("");
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon [[[Turtles ONLY]]]
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom [[[Turtles ONLY]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect [[[Turtles ONLY]]]
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect [[[Turtles ONLY]]]
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    All Bombs
    //////
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle
    
    //Add("");
    Add("form_all_nod_all_bom_grd_rec_5x4_68sph_68spv_sld_nodes_cfg20xm_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    Balloons + Brickheads
    //////
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle
    
    //Add("");
    //Add("");
    
    Add("form_all_nod_mix_bln_brk_grd_cir_46rsp_1rct_6rdc_sld_nodes_cfgbbbrbbb_snp");
    Add("form_all_nod_mix_bln_brk_grd_cir_60rsp_1rct_8rdc_sld_nodes_cfgbbbbrbbbb_snp");
    Add("form_all_nod_mix_bln_brk_grd_cir_60rsp_1rct_8rdc_sld_nodes_cfgbrrbbbrrb_snp");
    Add("form_all_nod_mix_bln_brk_grd_cir_60rsp_1rct_8rdc_sld_nodes_cfgrbbbbbbbr_snp");
    Add("form_all_nod_mix_bln_brk_grd_cir_60rsp_1rct_8rdc_sld_nodes_cfgrbbbrbbbr_snp");
    Add("form_all_nod_mix_bln_brk_grd_cir_72rsp_1rct_10rdc_sld_nodes_cfgbrrbbbrrbbr_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom
    
    //Add("");
    Add("form_all_trc_mix_bln_brk_grd_rec_6x6_60sph_60spv_0ful_tra_12ply_cfgrbbbbbbbbbbbbbrbbbbbbbbbbbbb");
    Add("form_all_trc_mix_bln_brk_grd_rec_6x6_60sph_60spv_0ful_tra_12ply_cfgrbbbbbbrbbbbbbrbbbbbbrbbbbbb");
    Add("form_all_trc_mix_bln_brk_grd_cir_115rsp_1rct_8rdc_0ful_tra_12ply_cfgrbbbbbbrbbbbbbrbbbbbbrbbbbbb_tra_cir_90rad_cfg4xb_tra_cir_90rad_cfg4xb");
    
    Add("form_all_trc_mix_bln_brk_grd_cir_115rsp_1rct_8rdc_0ful_tra_12ply_cfgrbbbbbbrbbbbbbrbbbbbbrbbbbbb_tra_cir_90rad_cfgrbbb_tra_cir_90rad_cfgbbrb");
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect
    
    //Add("");
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect
    
    Add("form_all_trc_mix_bln_brk_tra_rrc_505siz_110crd_cfgrbbbrbbbrbbbb");
    Add("form_all_trc_mix_bln_brk_tra_rrc_505siz_110crd_cfgrbrbrbrbrbrbb");
    Add("form_nod_trc_all_bln_grd_rec_1x1_60sph_60spv_sld_nodes_cfg1xb_snp_tra_rrc_505siz_110crd_cfgbbbbrbbbrbbbr_tra_rrc_275siz_54crd_cfg7xb");
    
    
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    Balloons + Turtles
    //////
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle [[[Balloons + Turtles]]]
    
    Add("form_all_nod_mix_bln_tur_grd_cir_75rsp_1rct_6rdc_86ful_nodes_cfgbbttbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_cir_75rsp_1rct_6rdc_sld_nodes_cfgbbtbtbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_cir_85rsp_1rct_8rdc_89ful_nodes_cfgbbbttbbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_cir_85rsp_1rct_8rdc_sld_nodes_cfgbbbtbtbbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_cir_85rsp_1rct_8rdc_sld_nodes_cfgbttbbbttb_snp");
    Add("form_all_nod_mix_bln_tur_grd_cir_85rsp_1rct_12rdc_62ful_nodes_cfgbbbttbbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_cir_115rsp_1rct_16rdc_71ful_nodes_cfgbbbbbttbbbbb_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon [[[Balloons + Turtles]]]
    
    //Add("");
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle [[[Balloons + Turtles]]]
    
    //Add("");
    //Add("");
    
    //Add("form_all_nod_mix_bln_tur_grd_rec_2x1_38sph_48spv_sld_nodes_cfgtb_snp.json");
    
    Add("form_all_nod_mix_bln_tur_grd_rec_1x2_34sph_50spv_sld_nodes_cfgbt_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_1x2_34sph_66spv_sld_nodes_cfgtb_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_2x1_34sph_50spv_sld_nodes_cfgbt_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_2x1_34sph_50spv_sld_nodes_cfgtb_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_2x2_36sph_50spv_sld_nodes_cfgbbtt_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_2x2_36sph_64spv_sld_nodes_cfgttbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_3x2_36sph_64spv_sld_nodes_cfgtbtbbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_3x2_36sph_64spv_sld_nodes_cfgtttbbb_snp");
    
    
    Add("form_all_nod_mix_bln_tur_grd_rec_4x2_38sph_48spv_50ful_nodes_cfgbbttbb4on2of");
    Add("form_all_nod_mix_bln_tur_grd_rec_5x3_38sph_48spv_73ful_nodes_cfgbbbtbbbtbbb_snp");
    Add("form_all_nod_mix_bln_tur_grd_rec_3x3_68sph_68spv_sld_nodes_cfgtbtbbbtbt_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star [[[Balloons + Turtles]]]
    
    Add("form_all_nod_mix_bln_tur_grd_sta_74rdi_140rdo_1ptc_4arc_94ful_nodes_cfgbbbbbbbbttbbbbbbbb16on2of");
    Add("form_all_nod_mix_bln_tur_grd_sta_74rdi_140rdo_1ptc_4arc_sld_nodes_cfgbbbbbbbbtbbbbbbbb_snp");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle [[[Balloons + Turtles]]]
    
    Add("form_all_nod_mix_bln_tur_grd_tri_ng2_172rad_46sph_40spv_stg_180ros_86ful_nodes_cfgbbbbbbbbtbbtbbbbbbbbbbbb_snp");
    //Add("");
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle [[[Balloons + Turtles]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom [[[Balloons + Turtles]]]
    

    Add("form_all_trc_mix_bln_tur_grd_rec_6x6_60sph_60spv_0ful_tra_4ply_cfgtbbb_tra_4ply_cfgtbbb_tra_4ply_cfgtbbb_tra_4ply_cfgtbbb_tra_4ply_cfg4xb_tra_4ply_cfg4xb");
    Add("form_all_trc_all_bln_grd_hex_ng1_135rsp_1rct_30pts_0ful_tra_6ply_cfg14xb_tra_cir_155rad_cfgrbbrbb");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect [[[Balloons + Turtles]]]
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect [[[Balloons + Turtles]]]
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    Brick + Turtle
    //////
    
    //Add("");
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle [[[Brick + Turtle]]]
    
    //Add("");
    
    Add("form_all_nod_mix_brk_tur_grd_rec_1x2_36sph_44spv_sld_nodes_cfgrt_snp");
    Add("form_all_nod_mix_brk_tur_grd_rec_1x2_36sph_60spv_sld_nodes_cfgtr_snp");
    Add("form_all_nod_mix_brk_tur_grd_rec_2x1_36sph_44spv_sld_nodes_cfgrt_snp");
    Add("form_all_nod_mix_brk_tur_grd_rec_2x1_36sph_44spv_sld_nodes_cfgtr_snp");
    Add("form_all_nod_mix_brk_tur_grd_rec_2x2_36sph_44spv_sld_nodes_cfgrrtt_snp");
    Add("form_all_nod_mix_brk_tur_grd_rec_2x2_36sph_56spv_sld_nodes_cfgttrr_snp");
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom [[[Brick + Turtle]]]
    
    //Add("");
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect [[[Brick + Turtle]]]
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect [[[Brick + Turtle]]]

    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    Balloon + Brick + Turtle
    //////
    
    //Add("");
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom
    
    //Add("");
    Add("form_all_trc_mix_bln_tur_grd_rec_6x6_60sph_60spv_0ful_tra_4ply_cfgtbbb_tra_4ply_cfgtbbb_tra_4ply_cfgtbbb_tra_4ply_cfgtbbb_tra_4ply_cfgrbbb_tra_4ply_cfgrbbb");
    
    
    
    
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect
    
    Add("form_nod_trc_all_bln_grd_rec_1x1_60sph_60spv_sld_nodes_cfg1xb_snp_tra_rrc_570siz_110crd_cfgbbbbrbbbrbbbr_tra_rrc_275siz_54crd_cfgtbbtbb");
    
    
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    
    
    
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //////
    //////    All Template
    //////
    
    //Add("");
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Arcs
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Heptagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Hexagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Lines
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Octogon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Pentagon
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Rectangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Staggered
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Star
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Trapezoid
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Shapes - Triangle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Circle
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Custom
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rect
    
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    //Tracers - Rounded Rect
    
    //////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    //[All Balloon] Rect Grid Types...
    //Add("f_grid_rect_1x4_46spc_solid__nodes_cfg4xb_allg");

    //Super mixed up:
    Add("form_all_trc_mix_bln_brk_grd_rec_4x4_68sph_68spv_0ful_tra_4ply_cfgrtttb_tra_4ply_cfgbrtbt");
    
    //
    EnumList(FString, aString, mNameList) {
        if (Load(aString->c())) {
            
        } else {
            Log("FAILED to Load Formation [%s]\n", aString->c());
            printf("...\n");
        }
    }
}

void FormationCollection::Add(const char *pName) {
    mNameList.Add(new FString(pName));
}

bool FormationCollection::Load(const char *pName) {
    FJSON aJSON;
    aJSON.Load(pName);
    LevelFormationBlueprint aBlueprint;
    aBlueprint.Load(aJSON.mRoot, pName);
    if (aBlueprint.IsValid()) {
        LevelFormation *aFormation = new LevelFormation();
        aBlueprint.Build(aFormation);
        mMap.Add(pName, aFormation);
        aFormation->mID = pName;
        mFormationList.Add(aFormation);
        
        //Log("Loaded Formation [%llx][%s]\n", (unsigned long long)aFormation, pName);
        
        return true;
    }
    
    return false;
}

FString cFormationLoadString;
LevelFormation *FormationCollection::Get(const char *pName) {
    
    cFormationLoadString.Reset();
    cFormationLoadString.Append(pName);
    cFormationLoadString.RemoveExtension();
    
    LevelFormation *aFormation = (LevelFormation *)mMap.Get(cFormationLoadString.c());
    
    //printf("Getting Formation: %s\n", cFormationLoadString.c());
    
    if (aFormation != NULL) {
        return aFormation->Clone();
    }
    
    return NULL;
}
